<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EasyShill - Social Media Sharing</title>
  <style>
    html, body { margin:0; padding:0; width:100%; height:100%; overflow:hidden; background-color: #000; }
    
    /* Master Rings Layer */
    .master-rings-layer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 10;
      pointer-events: none;
    }
    
    .master-rings-layer img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: none;
      mix-blend-mode: normal;
      opacity: 1;
      image-rendering: auto;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }
    
    /* Link Overlay Layer */
    .links-layer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 20;
    }
    
    /* Make all links/areas clickable */
    .links-layer map area {
      pointer-events: auto;
    }

    /* Highlight area outlines for testing */
    .area-highlight {
      position: absolute;
      border: 3px solid rgba(255, 0, 0, 0.8);
      border-radius: 50%;
      pointer-events: none;
      z-index: 25;
      transition: transform 0.1s ease;
      box-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
    }
    
    .area-highlight.rect {
      border-radius: 0;
    }
    
    .area-highlight.poly {
      border-radius: 0;
      background-color: rgba(255, 0, 0, 0.2);
    }
  </style>
  <!-- Image map resizer -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/image-map-resizer/1.0.10/js/imageMapResizer.min.js"></script>
</head>
<body>
  <!-- Master Rings Layer -->
  <div class="master-rings-layer">
    <img src="html/master_rings.png" alt="Master Rings">
  </div>
  
  <!-- Link Overlay Layer -->
  <div class="links-layer" id="links-container">
    <!-- Image Map Generated by http://www.image-map.net/ -->
    <img src="html/master_rings.png" usemap="#image-map" style="opacity: 0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; filter: none; mix-blend-mode: normal; image-rendering: auto;">
    <map name="image-map">
      <area target="_blank" alt="Skype" title="Skype" href="https://web.skype.com/share?url=https%3A//easyshill.com/%23how-to-buy&amp;text=Easiest%20shill%20of%20all%20time%3A%0Ahttps%3A//easyshill.com/%23how-to-buy" coords="615,897,69" shape="circle">
      <area target="_blank" alt="LINE" title="LINE" href="https://social-plugins.line.me/lineit/share?url=https%3A//easyshill.com/%23how-to-buy" coords="742,665,59" shape="circle">
      <area target="_blank" alt="VK" title="VK" href="https://vk.com/share.php?url=https%3A//easyshill.com/%23how-to-buy" coords="1123,606,999,723" shape="rect">
      <area target="_blank" alt="SMS" title="SMS" href="sms:?body=Easiest%20shill%20of%20all%20time%3A%0Ahttps%3A//easyshill.com/%23how-to-buy" coords="1131,846,1249,943" shape="rect">
      <area target="_blank" alt="LinkedIn" title="LinkedIn" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A//easyshill.com/%23how-to-buy" coords="1074,1134,69" shape="circle">
      <area target="_blank" alt="Flipboard" title="Flipboard" href="https://share.flipboard.com/bookmarklet/popout?v=2&amp;title=Easiest%20shill%20of%20all%20time&amp;url=https%3A//easyshill.com/%23how-to-buy" coords="747,1137,74" shape="circle">
      <area target="_blank" alt="Facebook" title="Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3A//easyshill.com/%23how-to-buy" coords="729,436,117" shape="circle">
      <area target="_blank" alt="Email" title="Email" href="mailto:?subject=Easiest%20shill%20of%20all%20time&amp;body=Easiest%20shill%20of%20all%20time%3A%0Ahttps%3A//easyshill.com/%23how-to-buy" coords="1157,461,106" shape="circle">
      <area target="_blank" alt="Gab" title="Gab" href="https://gab.com/compose?text=Easiest%20shill%20of%20all%20time%3A%0Ahttps%3A//easyshill.com/%23how-to-buy" coords="1402,762,106" shape="circle">
      <area target="_blank" alt="Reddit" title="Reddit" href="https://www.reddit.com/submit?url=https%3A//easyshill.com/%23how-to-buy&amp;title=Easiest%20shill%20of%20all%20time" coords="1327,1180,105" shape="circle">
      <area target="_blank" alt="Blogger" title="Blogger" href="https://www.blogger.com/blog-this.g?u=https%3A//easyshill.com/%23how-to-buy&amp;n=Easiest%20shill%20of%20all%20time" coords="837,1305,1039,1512" shape="rect">
      <area target="_blank" alt="Tumblr" title="Tumblr" href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=https%3A//easyshill.com/%23how-to-buy&amp;caption=Easiest%20shill%20of%20all%20time" coords="519,1160,119" shape="circle">
      <area target="_blank" alt="WhatsApp" title="WhatsApp" href="https://api.whatsapp.com/send?text=Easiest%20shill%20of%20all%20time%3A%0Ahttps%3A//easyshill.com/%23how-to-buy" coords="464,717,109" shape="circle">
      <area target="_blank" alt="XING" title="XING" href="https://www.xing.com/spi/shares/new?url=https%3A//easyshill.com/%23how-to-buy" coords="235,487,309,550,359,547,314,466,379,342,333,336,239,372,193,374,217,421,179,482" shape="poly">
      <area target="_blank" alt="Pinterest" title="Pinterest" href="https://pinterest.com/pin/create/button/?url=https%3A//easyshill.com/%23how-to-buy&amp;description=Easiest%20shill%20of%20all%20time" coords="637,143,122" shape="circle">
      <area target="_blank" alt="Pocket" title="Pocket" href="https://getpocket.com/edit?url=https%3A//easyshill.com/%23how-to-buy&amp;title=Easiest%20shill%20of%20all%20time" coords="1173,132,127" shape="circle">
      <area target="_blank" alt="Twitter" title="Twitter" href="https://twitter.com/intent/tweet?text=Easiest%20shill%20of%20all%20time%3A%0Ahttps%3A//easyshill.com/%23how-to-buy" coords="1575,405,106" shape="circle">
      <area target="_blank" alt="Hacker News" title="Hacker News" href="https://news.ycombinator.com/submitlink?u=https%3A//easyshill.com/%23how-to-buy&amp;t=Easiest%20shill%20of%20all%20time" coords="1799,941,1608,744" shape="rect">
      <area target="_blank" alt="Weibo" title="Weibo" href="https://service.weibo.com/share/share.php?url=https%3A//easyshill.com/%23how-to-buy&amp;title=Easiest%20shill%20of%20all%20time" coords="1585,1326,117" shape="circle">
      <area target="_blank" alt="Telegram" title="Telegram" href="https://t.me/share/url?url=https%3A//easyshill.com/%23how-to-buy&amp;text=Easiest%20shill%20of%20all%20time%3A%0Ahttps%3A//easyshill.com/%23how-to-buy" coords="699,1646,109" shape="circle">
      <area target="_blank" alt="Mastodon" title="Mastodon" href="https://mastodon.social/share?text=Easiest%20shill%20of%20all%20time%3A%0Ahttps%3A//easyshill.com/%23how-to-buy" coords="220,1279,211,1351,219,1429,260,1462,311,1469,351,1461,349,1442,306,1442,273,1418,322,1414,382,1417,413,1379,414,1310,398,1264,333,1250,263,1258" shape="poly">
      <area target="_blank" alt="Messenger" title="Messenger" href="https://www.facebook.com/dialog/send?link=https%3A//easyshill.com/%23how-to-buy&amp;app_id=123456789&amp;redirect_uri=https%3A//easyshill.com/%23how-to-buy" coords="158,876,81" shape="circle">
      <area target="_blank" alt="TikTok" title="TikTok" href="https://www.tiktok.com/upload" coords="1228,1577,1190,1577,1162,1604,1152,1638,1165,1686,1192,1711,1260,1717,1292,1673,1300,1627,1351,1589,1348,1563,1294,1503,1251,1495,1255,1566" shape="poly">
    </map>
  </div>

  <script>
    // Initialize image map resizer when the page loads
    window.addEventListener('DOMContentLoaded', () => {
      imageMapResize();
      
      // After the image map is resized, add highlight elements for each area
      createHighlights();
      
      // Update highlights when the window is resized
      window.addEventListener('resize', () => {
        updateHighlights();
      });
    });

    // Function to create highlight elements for each area
    function createHighlights() {
      const areas = document.querySelectorAll('map[name="image-map"] area');
      const container = document.querySelector('#links-container');
      
      // Create a highlights container
      const highlightsContainer = document.createElement('div');
      highlightsContainer.id = 'area-highlights';
      highlightsContainer.style.position = 'absolute';
      highlightsContainer.style.top = '0';
      highlightsContainer.style.left = '0';
      highlightsContainer.style.width = '100%';
      highlightsContainer.style.height = '100%';
      highlightsContainer.style.pointerEvents = 'none';
      highlightsContainer.style.zIndex = '25';
      container.appendChild(highlightsContainer);
      
      // For each area, create a highlight element
      areas.forEach((area, index) => {
        const shape = area.getAttribute('shape');
        const coords = area.getAttribute('coords').split(',').map(coord => parseInt(coord, 10));
        const title = area.getAttribute('title');
        
        const highlight = document.createElement('div');
        highlight.className = `area-highlight ${shape}`;
        highlight.setAttribute('data-shape', shape);
        highlight.setAttribute('data-coords', area.getAttribute('coords'));
        highlight.setAttribute('data-index', index);
        highlight.setAttribute('title', title);
        
        highlightsContainer.appendChild(highlight);
      });
      
      // Set initial positions
      updateHighlights();
    }
    
    // Function to update highlight positions based on the current image map
    function updateHighlights() {
      const img = document.querySelector('img[usemap="#image-map"]');
      const highlights = document.querySelectorAll('.area-highlight');
      
      // Get image dimensions and position
      const imgRect = img.getBoundingClientRect();
      const imgWidth = imgRect.width;
      const imgHeight = imgRect.height;
      
      // For each highlight, update its position
      highlights.forEach(highlight => {
        const shape = highlight.getAttribute('data-shape');
        const coords = highlight.getAttribute('data-coords').split(',').map(coord => parseInt(coord, 10));
        
        if (shape === 'circle') {
          // For circles, x,y,radius
          const x = (coords[0] / 1800) * imgWidth;
          const y = (coords[1] / 1800) * imgHeight;
          const radius = (coords[2] / 1800) * imgWidth;
          
          highlight.style.left = `${x - radius}px`;
          highlight.style.top = `${y - radius}px`;
          highlight.style.width = `${radius * 2}px`;
          highlight.style.height = `${radius * 2}px`;
        } 
        else if (shape === 'rect') {
          // For rectangles, x1,y1,x2,y2
          const x1 = (coords[0] / 1800) * imgWidth;
          const y1 = (coords[1] / 1800) * imgHeight;
          const x2 = (coords[2] / 1800) * imgWidth;
          const y2 = (coords[3] / 1800) * imgHeight;
          
          highlight.style.left = `${x1}px`;
          highlight.style.top = `${y1}px`;
          highlight.style.width = `${x2 - x1}px`;
          highlight.style.height = `${y2 - y1}px`;
        }
        else if (shape === 'poly') {
          // For polygons, find bounding box
          let minX = Infinity, minY = Infinity;
          let maxX = 0, maxY = 0;
          
          for (let i = 0; i < coords.length; i += 2) {
            const x = coords[i];
            const y = coords[i + 1];
            
            minX = Math.min(minX, x);
            minY = Math.min(minY, y);
            maxX = Math.max(maxX, x);
            maxY = Math.max(maxY, y);
          }
          
          const x1 = (minX / 1800) * imgWidth;
          const y1 = (minY / 1800) * imgHeight;
          const x2 = (maxX / 1800) * imgWidth;
          const y2 = (maxY / 1800) * imgHeight;
          
          highlight.style.left = `${x1}px`;
          highlight.style.top = `${y1}px`;
          highlight.style.width = `${x2 - x1}px`;
          highlight.style.height = `${y2 - y1}px`;
        }
      });
    }
  </script>

  <!-- Three.js Script -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="background.js"></script>
</body>
</html>
